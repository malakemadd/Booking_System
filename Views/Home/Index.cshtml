@model SearchViewModel
@inject MVCBookingFinal_YARAB_.IRepositories.ICityService _cities
@inject MVCBookingFinal_YARAB_.IRepositories.ICountryService _countries
@inject MVCBookingFinal_YARAB_.IRepositories.IHotelService _hotels



@{


    ViewData["Title"] = "Home Page";
    Dictionary<string, string> countriesOrCities = new();


    foreach (var item in _cities.GetAll())
    {
        countriesOrCities[item.Name] = item.Name;
    }
    foreach (var item in _hotels.GetAll())
    {
        countriesOrCities[item.Name] = item.Name;
    }
    SelectList sl = new SelectList(countriesOrCities, "Key", "Value");

}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Untree.co">

    <link href="~/css/Home.css" rel="stylesheet" />
</head>



<body>




    @* <link href="~/css/Home.css" rel="stylesheet"> *@



    <div class="hero">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <div class="intro-wrap">
                        <h1 class="mb-5"><span class="d-block">Let's Enjoy Your</span> Trip In <span class="typed-words"></span></h1>

                        <div class="row">
                            <div class="col-12">
                                <form class="form container " asp-action="ViewHotels" asp-controller="Reservation">

                                    <div class="row mb-2  col-lg-10">
                                        <div class="d-flex justify-content-around flex-wrap w-100">

                                            <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-3 calender ">
                                                @* destination *@

                                                <i class="fa-solid fa-location-dot CalenderIcon"></i>
                                                <input class="form-control custom-select col-9 Destination" type="text" id="Users-types" name="CountryOrCity" list="Users" placeholder="Destination" />
                                                <datalist id="Users">
                                                    @foreach (var user in sl)
                                                    {
                                                        <option value="@user.Value">@user.Text</option>
                                                    }
                                                </datalist>


                                            </div>

                                            <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-3 calender  ">

                                                <i class="fa-solid fa-calendar-days fs-5 CalenderIcon"></i>
                                                <input type="date" asp-for="CheckInDate" class="form-control Destination " />

                                            </div>

                                            <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-3 calender  ">
                                                <i class="fa-solid fa-calendar-days fs-5 CalenderIcon"></i>
                                                <input type="date" asp-for="CheckOutDate" class="form-control Destination" />

                                            </div>



                                            <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-3 calender dropdown">
                                                <div class="d-flex align-items-center dropdown-toggle" id="guestsRoomsDropdown" data-toggle="dropdown" aria-expanded="false">
                                                    <i class="fa-solid fa-users CalenderIcon"></i>
                                                    <input type="text" style="background-color:transparent" class="form-control Destination" id="guestsRoomsInput" placeholder="Guests & Rooms" readonly />
                                                    @*                                                 <textarea id="guestsRoomsInput" style="background-color:transparent" class="form-control Destination" placeholder="Guests & Rooms" readonly></textarea>
 *@                                                </div>

                                                <!-- Dropdown Content -->
                                                <ul class="dropdown-menu p-3 shadow-lg border-0" aria-labelledby="guestsRoomsDropdown" style="width: 280px;">
                                                    <li class="mb-2 d-flex justify-content-between align-items-center">
                                                        <label for="adults" class="mb-0">Adults</label>
                                                        <input id="adults" type="number" asp-for="AdultsNumber" class="form-control w-50" min="1" value="1" />
                                                    </li>

                                                    <li class="mb-2 d-flex justify-content-between align-items-center">
                                                        <label for="children" class="mb-0">Children</label>
                                                        <input id="children" type="number" asp-for="ChildrenNumber" class="form-control w-50" min="0" value="0" />
                                                    </li>

                                                    <li class="mb-2 d-flex justify-content-between align-items-center">
                                                        <label for="rooms" class="mb-0">Rooms</label>
                                                        <input id="rooms" type="number" asp-for="NumberOfRooms" class="form-control w-50" min="1" value="1" />
                                                    </li>

                                                    <li class="mb-2 d-flex justify-content-end align-items-center">
                                                        <button type="button" class="btn btn-primary w-50 mt-2 rounded-1" onclick="updateGuestsRooms()">Apply</button>
                                                    </li>
                                                </ul>
                                            </div>




                                        </div>


                                    </div>

                                    <div class="row align-items-center col-lg-2">
                                        <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-12 pb-2 ">
                                            <input type="submit" class="btn btn-primary btn-block " value="Search">
                                        </div>

                                    </div>




                                </form>
                                <div asp-validation-summary="All"></div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>



    @* features *@
    <div class="featuers text-white">
        <div class="container">
            <div class="feat">
                <img src="./images/OIF.jpeg" alt="Alternate Text" />
            </div>
            <div class="feat">

                <img src="./images/OIP (1).jpeg" alt="Alternate Text" />
            </div>
            <div class="feat">
                
                <img src="./images/OIP.jpeg" alt="Alternate Text" />
            </div>
            <div class="feat">
                
                <img src="./images/download.jpeg" alt="Alternate Text" />
            </div>
            <div class="feat">

                <img src="./images/OIP.jpeg" alt="Alternate Text" />
            </div>
            <div class="feat">

                <img src="./images/OIP (1).jpeg" alt="Alternate Text" />
            </div>    
            <div class="feat">

                <img src="./ProductsImages/luxor.jpg" alt="Alternate Text" />
            </div>            
        </div>
    </div>

    @* Trending counrires *@
    <div class="Trending">

        <div class="container">

        <h2  style="font-family: 'Arial', sans-serif;"> Trending destinations</h2>
            <p>Pick a vibe and explore the top destinations - Get inspiration for your next trip!</p>

            <div class="cardholder col-12">
                <div class="upper">

                @foreach (var country in _countries.GetAll().Take(6))
                {
                    if (country is not null)
                    {
                        <div class="">
                            <!-- Use col-md-4 for 3 cards per row -->
                            <partial name="_CountryCard" model="@country"></partial>
                        </div>
                        <div class="">
                            <!-- Use col-md-4 for 3 cards per row -->
                            <partial name="_CountryCard" model="@country"></partial>
                        </div>
                    }
                }
                </div>
                <div class="lower">

                @foreach (var city in _cities.GetAll().Take(6))
                {
                    if (city is not null)
                    {
                        <div class=" col-4">
                            <!-- Use col-md-4 for 3 cards per row -->
                            <partial name="_CityCard" model="@city"></partial>
                        </div>
                        <div class="col-4">
                            <!-- Use col-md-4 for 3 cards per row -->
                            <partial name="_CityCard" model="@city"></partial>
                        </div>
                        <div class="col-4">
                            <!-- Use col-md-4 for 3 cards per row -->
                            <partial name="_CityCard" model="@city"></partial>
                        </div>
                    }
                }
                </div>
            </div>
        </div>
    </div>
    



    <div class="d-flex justify-content-around mt-5 mb-5">
        <div class="container">
            <h2 class="mx-auto   fw-bold mt-5" style="font-family: 'Arial', sans-serif;">Deals for the weekend</h2>
            <p class="my-3">Save on stays for 14 March - 16 March</p>

            <div class="row justify-content-between">
                <!-- Use justify-content-between for equal spacing -->
                @foreach (var hotel in _hotels.GetAll().Take(4))
                {
                    if (hotel is not null)
                    {
                        <div class="col-md-3 my-1">
                            <!-- Use col-md-3 for 4 cards per row -->
                            <partial name="_HotelCard" model="@hotel"></partial>
                        </div>
                    }
                }
            </div>
        </div>
    </div>   
</body>
</html>







