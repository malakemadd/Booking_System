@model IEnumerable<MVCBookingFinal_YARAB_.Models.Review>


@{
    ViewData["Title"] = "Index";
    var isAdmin = User.IsInRole("Admin");

}
<div class="row">
    
        @* <div class="col-md-4 mb-3"> *@
            @* @await Html.PartialAsync("_GetReview") *@
@*             @await Html.PartialAsync("_GetReview", Model.Select(r => new ReviewViewModel2
   {
       Id = r.Id,
       HotelId = r.HotelId,
       UserName=r.User.UserName,
       Rating = r.Rating,
       Description = r.Description
      
   })) 

    @* </div> *@
</div>
<h1 class="text-center flex-grow-1">All Reviews</h1>
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        
        <a asp-action="Create" class="btn btn-primary" style="margin-left:50px;">➕Add Review</a>

    </div>
    <div class="container mt-4 shadow-lg p-3 mb-5 bg-white rounded">
        <div class="card-body">
            <table class="table table-striped table-hover table-rounded mt-4">
                <thead class="custom-row" style="background-color: #1A374D;">

                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Hotel)
                        </th>
                        @* @if(isAdmin)
            {  *@
                        <th>
                            @Html.DisplayNameFor(model => model.User)
                        </th>

                        @*  } *@

                        <th>
                            @Html.DisplayNameFor(model => model.Rating)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Description)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.ReviewDate)
                        </th>
                        <th class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {

                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Hotel.Name)
                            </td>
                            @*    @if (isAdmin)
                { *@
                            <td>@Html.DisplayFor(modelItem => item.User.UserName)</td>
                            @* } *@

                            <td>
                                @for (int i = 1; i <= 5; i++)
                                {

                                    if (i <= item.Rating)
                                    {
                                        <i class="fa-solid  fa-star" style="color:darkgoldenrod"></i>

                                    }
                                    else if (i > item.Rating)
                                    {
                                        <i class="fa-regular fa-star"></i>
                                    }
                                }

                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Description)
                            </td>
                            <td>

                                @Html.DisplayFor(modelItem => item.ReviewDate)
                            </td>
                            <td>


                                <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-sm action-btn action-btn-primary">@* Details *@ <i class="fas fa-eye"></i></a>
                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm action-btn action-btn-danger">@* Delete *@ <i class="fas fa-trash"></i></a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

    </div>
    </div>
    
<style>

    h1 {
       
        font-weight: bold;
    }

    table {
        background-color: white;
        width: 100%;
    }

    .table-rounded {
        border-collapse: separate;
        border-spacing: 0;
    }

        .table-rounded th:first-child {
            border-top-left-radius: 10px;
        }

        .table-rounded th:last-child {
            border-top-right-radius: 10px;
        }

    .custom-row th {
        text-align: left;
        background-color: #1a374d;
        color: white;
        font-weight: bold;
    }

    td {
        text-align: left;
    }

    .container {
        max-width: 92%;
    }


    .btn {
        
        border-radius: 8px;
        margin-left:10px;
    }

        .btn:hover {
            transform: scale(1.05);
        }

    .btn-group .btn {
        margin: 2px;
    }

    .action-btn {
       
        padding: 4px 8px;
        background: none;
        border: none;
        margin: 0 2px;
        transition: all 0.2s;
    }

     .action-btn-primary {
        color: #0d6efd;
    }

       .action-btn-primary:hover {
            background-color: #0d6efd15;
        }

    .action-btn-danger {
        color: #dc3545;
    }

       .action-btn-danger:hover {
            background-color: #dc354515;
        }
</style>
